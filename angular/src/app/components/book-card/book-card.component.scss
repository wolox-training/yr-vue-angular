@import 'src/styles/variables/colors';
@import 'src/styles/variables/fonts';

@mixin text-ellipsis {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.book-card {
  box-shadow: 4px 4px 10px 0 rgba(0, 0, 0, 0.5);
  height: 300px;
  margin: 0 36px 36px 0;
  padding: 28px 28px 19px;
  position: relative;
  width: 198px;

  .cover {
    height: 200px;
    max-width: 100%;
    position: relative;
    width: 142px;
  }

  .book {
    height: 100%;
    transform-style: preserve-3d;
    transition: all 250ms ease;
  }

  .book-front {
    height: 100%;
    max-width: 100%;
    position: absolute;
    width: 135px;
  }

  .book-back {
    height: 100%;
    position: absolute;
    top: 0;
    transform: translateZ(-40px);
    width: 100%;
  }

  .book-side {
    background-image: linear-gradient(to right, $silver 35%, $light-gray 35%);
    background-size: 5px;
    bottom: 2px;
    opacity: 0;
    position: absolute;
    right: -30px;
    top: 2px;
    transform: rotate3d(0, 1, 0, 90deg);
    width: 43px;
  }

  .img {
    height: 100%;
    width: 100%;
  }

  .title {
    @include text-ellipsis;
    font-size: $book-title;
    font-weight: 700;
    line-height: 18px;
    max-width: 100%;
    width: 106px;
  }

  .author {
    @include text-ellipsis;
    color: $book-gray;
    font-size: $book-author;
    height: 18px;
    line-height: 18px;
    max-width: 100%;
    width: 109px;
  }

  &:hover {
    .book {
      transform: rotate3d(0, -1, 0, 30deg) translate(-5px, -10px);
    }

    .book-back {
      box-shadow: 5px 10px 15px rgba(0, 0, 0, 0.35);
    }

    .book-side {
      opacity: 1;
    }
  }
}
